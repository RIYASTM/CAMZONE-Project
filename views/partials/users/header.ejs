


<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"> -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<link rel="stylesheet" href="/stylesheet/partials/users/header.css">


<header>
    <div class="top-bar">
        <div class="contact">Need help? Call us: (+81) 0234 456 789</div>
        <div class="actions">
            <a href="#" class="store-link">
                <img src="/images/icons/location.png"  alt="Store" class="icon">
                Our store
            </a>
            <a href="#" class="track-order">
                <img src="/images/icons/track.png" alt="Track" class="icon">
                Track your order
            </a>
        </div>
    </div>

    <nav class="main-nav">
        <div class="logo">
            <a href="/">
                <img src="/images/icons/CAMZONE.png" alt="CameraZone">
            </a>
        </div>
        <div class="search-container">
            <input type="text" class="search-bar" id="search" placeholder="Search any thing" value="<%=search%>">
            <% if(search){ %>
                <button class="clear" id="clear-button"><i class="bi bi-x fs-1"></i></button>
            <% } %>
        </div>
        <div class="nav-actions">
            <!-- <a href="/account">
                <img src="/images/icons/user.png" alt="Account" class="icon">
                My Account
            </a> -->
            <a href="/cart">
                <img src="/images/icons/shopping-cart.png" alt="Cart" class="icon">
                Cart <span class="cart-count">0</span>
            </a>
            <a href="/wishlist">
                <img src="/images/icons/heart.png" alt="wishlist" class="icon">
                Wishlist
            </a>
            <% if ( locals.user ) { %>
                <div class="user-menu">
                    <a href="/profile" class="user-name">
                        <img src="/images/icons/user.png" alt="User" class="icon">
                        <%= user.name %>
                    </a>
                    <div class="dropdown">
                        <a href="/myAccount"><img src="/images/icons/user.png" alt="Profile" class="icon"> Profile</a>
                        <a href="/signout"><img src="/images/icons/signout.png" alt="signout" class="icon"> Sign Out</a>
                    </div>
                </div>
            <% } else { %>
                <a href="/signin" class="<%= currentPage === 'signin' ? 'active' : ''%>">
                    <img src="/images/icons/signin.png" alt="Signin" class="icon">Sign In</a>
            <% } %>
            </div>
    </nav>

    <div class="sub-nav">
        <div class="links">
            
            <a href="/" class="<%= currentPage === 'home' ? 'active' : '' %>">Home</a>
            <a href="/shop">Shop</a>
            <a href="/contact">Contact Us</a>
            <a href="/about">About us</a>
        </div>
        <div class="return-policy">30 Days Free Return</div>
    </div>



    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const search = document.getElementById('search')
            const clearButton = document.getElementById('clear-button')
            
            search.addEventListener('keypress', async (e)=> {

                const searchValue = search.value.trim()

                if( searchValue && e.key === 'Enter' ){
                    console.log('search : ',searchValue)
                    // window.location = `/shop?search=${searchValue}`
                    window.location = `/shop?search=${encodeURIComponent(searchValue)}`;
                }
            })

            if(clearButton){
                clearButton.addEventListener('click', ()=> {
                    if(search.value){
                        search.value = '' 
                        window.location = '/shop'
                    }
                })
            }
        })
        
    
    </script>
</header>



